From 9c702353c5a38d8c0b45dfc6fe579644d5016479 Mon Sep 17 00:00:00 2001
From: Guillaume Zajac <guillaume.zajac@linux.intel.com>
Date: Thu, 4 Oct 2012 15:01:59 +0200
Subject: [PATCH 10/10] mux: Initialize setup_pdp entry point
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit

---
 src/mux.c |    9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/src/mux.c b/src/mux.c
index 3794685..4cdaa67 100644
--- a/src/mux.c
+++ b/src/mux.c
@@ -230,12 +230,21 @@ static TReturn tcore_cmux_hal_set_sound_path(TcoreHal *hal, int device)
 	return tcore_hal_set_sound_path(g_mux_obj_ptr->phy_hal, device);
 }
 
+static TReturn hal_setup_pdp(CoreObject *co, TcoreHalSetupPDPCallBack func,
+				void *user_data, unsigned int cid)
+{
+	/* Redirect request to physical HAL */
+	return tcore_hal_setup_pdp(g_mux_obj_ptr->phy_hal, co, func,
+					user_data, cid);
+}
+
 /* CMUX supported HAL (Logical HAL) operations */
 static struct tcore_hal_operations mux_hops = {
 	.power = NULL,
 	.send = tcore_cmux_hal_send,
 	.set_sound_path = tcore_cmux_hal_set_sound_path,
 	.link_object_channel = NULL,
+	.setup_pdp = hal_setup_pdp,
 };
 
 static TReturn tcore_cmux_send_data(int data_len, unsigned char *data)
-- 
1.7.10.4

